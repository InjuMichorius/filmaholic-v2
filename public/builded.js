import fetch from"node-fetch";async function fetchData(e){const r=await fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=6b14c4c8bcc5ae16e8216d9385a1b3a9");return await r.json()}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("../serviceWorker.js").then(e=>console.log("Service worker: registered")).catch(e=>console.log(`Service worker error: ${e}`))});import{fetchData}from"./api.js";async function search(e,r){const t=(await fetchData("popular")).results,o=e.query.q.toLowerCase();e=t.filter(e=>e.title.toLowerCase().includes(o));r.render("overview",{movies:e})}export{fetchData,search};